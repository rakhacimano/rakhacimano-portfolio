(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77339,e=>{"use strict";async function t(e,r={}){try{let t=await fetch(`/api${e}`,{...r,cache:"no-store",headers:{"Content-Type":"application/json",...r.headers}});if(!t.ok){let e=await t.text();throw console.error(`API Error [${t.status}]:`,e),Error(`API fetch failed: ${t.status} - ${e}`)}return t.json()}catch(e){if(e instanceof TypeError&&e.message.includes("fetch"))throw console.error("Network error:",e),Error("Cannot connect to API. Please try again.");throw e}}e.s(["fetchAPI",()=>t])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},67585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let s=e.r(78906);function a({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new s.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,r)=>{"use strict";function s(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return s}})},52157,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return i}});let s=e.r(43476),a=e.r(74080),l=e.r(63599),o=e.r(9885),n=e.r(43369);function i({moduleIds:e}){if("undefined"!=typeof window)return null;let t=l.workAsyncStorage.getStore();if(void 0===t)return null;let r=[];if(t.reactLoadableManifest&&e){let s=t.reactLoadableManifest;for(let t of e){if(!s[t])continue;let e=s[t].files;r.push(...e)}}if(0===r.length)return null;let i=(0,n.getDeploymentIdQueryOrEmptyString)();return(0,s.jsx)(s.Fragment,{children:r.map(e=>{let r=`${t.assetPrefix}/_next/${(0,o.encodeURIPath)(e)}${i}`;return e.endsWith(".css")?(0,s.jsx)("link",{precedence:"dynamic",href:r,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,a.preload)(r,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return d}});let s=e.r(43476),a=e.r(71645),l=e.r(67585),o=e.r(52157);function n(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},d=function(e){let t={...i,...e},r=(0,a.lazy)(()=>t.loader().then(n)),d=t.loading;function c(e){let n=d?(0,s.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,c=i?a.Suspense:a.Fragment,u=t.ssr?(0,s.jsxs)(s.Fragment,{children:["undefined"==typeof window?(0,s.jsx)(o.PreloadChunks,{moduleIds:t.modules}):null,(0,s.jsx)(r,{...e})]}):(0,s.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(r,{...e})});return(0,s.jsx)(c,{...i?{fallback:n}:{},children:u})}return c.displayName="LoadableComponent",c}},70703,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a}});let s=e.r(55682)._(e.r(69093));function a(e,t){let r={};"function"==typeof e&&(r.loader=e);let a={...r,...t};return(0,s.default)({...a,modules:a.loadableGenerated?.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},56909,63059,39824,8181,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>r],56909);let s=(0,t.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>s],63059);var a=e.i(43476),l=e.i(71645),o=e.i(31278);let n=(0,t.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),i=(0,t.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var d=e.i(46696);function c({value:e,onChange:t,multiple:r=!1,label:s="Upload Image",maxFiles:c=10,bucket:u="blog-images"}){let[p,m]=(0,l.useState)(!1),h=async s=>{let a=s.target.files;if(!a||0===a.length)return;m(!0);let l=[];try{for(let e=0;e<a.length;e++){let t=new FormData;t.append("image",a[e]);let r=await fetch(`/api/upload?bucket=${u}`,{method:"POST",body:t});if(!r.ok)throw Error("Upload failed");let s=await r.json();l.push(s.url)}if(r){let r=Array.isArray(e)?e:[];t([...r,...l])}else t(l[0]);d.toast.success("Image uploaded successfully")}catch(e){console.error(e),d.toast.error("Failed to upload image")}finally{m(!1)}},x=(s,l)=>(0,a.jsxs)("div",{className:"relative aspect-square bg-slate-100 rounded-lg overflow-hidden group border border-slate-200",children:[(0,a.jsx)("img",{src:s,alt:"Uploaded",className:"absolute inset-0 w-full h-full object-contain"}),(0,a.jsx)("button",{onClick:()=>{r&&Array.isArray(e)?t(e.filter((e,t)=>t!==l)):t("")},className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",type:"button",children:(0,a.jsx)(i,{size:14})})]},s+l);return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-[#0d141b] text-sm font-bold uppercase tracking-wide",children:s}),r&&(0,a.jsxs)("span",{className:"text-xs text-[#4c739a]",children:["Max ",c," images"]})]}),(0,a.jsxs)("label",{className:"border-2 border-dashed border-primary/30 bg-primary/5 rounded-xl p-8 flex flex-col items-center justify-center text-center group cursor-pointer hover:bg-primary/10 transition-colors",children:[(0,a.jsx)("input",{type:"file",className:"hidden",accept:"image/*",multiple:r,onChange:h,disabled:p}),(0,a.jsx)("div",{className:"bg-primary/20 p-3 rounded-full mb-3 group-hover:scale-110 transition-transform",children:p?(0,a.jsx)(o.Loader2,{className:"text-primary animate-spin",size:24}):(0,a.jsx)(n,{className:"text-primary",size:24})}),(0,a.jsx)("p",{className:"text-[#0d141b] font-semibold text-sm",children:p?"Uploading...":"Click to upload or drag and drop"}),(0,a.jsx)("p",{className:"text-[#4c739a] text-xs mt-1",children:"PNG, JPG or WebP"})]}),r?(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:Array.isArray(e)&&e.map((e,t)=>x(e,t))}):e&&"string"==typeof e&&(0,a.jsx)("div",{className:"w-40",children:x(e,0)})]})}function u({value:e,onChange:t,placeholder:r="Type and press space..."}){let[s,o]=(0,l.useState)(""),n=()=>{let r=s.trim();r&&!e.includes(r)&&(t([...e,r]),o(""))},d=r=>{let s=[...e];s.splice(r,1),t(s)};return(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 p-2 bg-white border border-slate-200 rounded-lg focus-within:border-primary focus-within:ring-1 focus-within:ring-primary transition-all",children:[e.map((e,t)=>(0,a.jsxs)("span",{className:"flex items-center gap-1 bg-primary/10 text-primary px-2 py-1 rounded-md text-sm font-bold animate-in fade-in zoom-in duration-200",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>d(t),className:"hover:text-red-500 transition-colors",children:(0,a.jsx)(i,{size:14})})]},t)),(0,a.jsx)("input",{type:"text",value:s,onChange:e=>o(e.target.value),onKeyDown:t=>{" "===t.key||"Enter"===t.key?(t.preventDefault(),n()):"Backspace"===t.key&&!s&&e.length>0&&d(e.length-1)},onBlur:n,className:"flex-1 bg-transparent border-none outline-none text-sm min-w-[120px] text-[#0d141b] placeholder:text-slate-400",placeholder:0===e.length?r:""})]})}e.s(["default",()=>c],39824),e.s(["default",()=>u],8181)},50484,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(70703),a=e.i(77339),l=e.i(18566),o=e.i(46696),n=e.i(56909),i=e.i(86536),d=e.i(63059),c=e.i(22016),u=e.i(39824),p=e.i(8181);let m=(0,s.default)(()=>e.A(26487),{loadableGenerated:{modules:[83441]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"h-[300px] w-full bg-slate-50 border border-slate-200 rounded-xl animate-pulse"})});function h({params:e}){let s=(0,l.useRouter)(),[h,x]=(0,r.useState)(!1),[b,f]=(0,r.useState)(!0),[g,j]=(0,r.useState)(""),[y,v]=(0,r.useState)(""),[N,w]=(0,r.useState)(""),[k,P]=(0,r.useState)(""),[C,S]=(0,r.useState)(""),[_,M]=(0,r.useState)(""),[O,E]=(0,r.useState)([]),[I,A]=(0,r.useState)(""),[R,T]=(0,r.useState)(""),[z,D]=(0,r.useState)(""),[U,F]=(0,r.useState)([]),[L,$]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{let t=await e;j(t.id);let r=await (0,a.fetchAPI)(`/projects/id/${t.id}`);v(r.title),w(r.slug),P(r.description),S(r.content),M(r.role),E(r.tags||[]),A(r.demo_link||""),T(r.github_link||""),D(r.coverImage||r.cover_image||""),F(r.images||[]),$(r.published)}catch(e){console.error("Failed to fetch project:",e),o.toast.error("Failed to load project data"),s.push("/admin/projects")}finally{f(!1)}})()},[e,s]);let B=async e=>{e.preventDefault(),x(!0);try{await (0,a.fetchAPI)(`/projects/${g}`,{method:"PUT",body:JSON.stringify({title:y,slug:N,description:k,content:C,role:_,tags:O,demo_link:I,github_link:R,cover_image:z,images:U,published:L})}),o.toast.success("Project updated successfully!"),setTimeout(()=>s.push("/admin/projects"),1500)}catch(e){console.error("Failed to update project",e),o.toast.error("Failed to update project")}finally{x(!1)}};return b?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,t.jsxs)("form",{onSubmit:B,className:"min-h-screen pb-20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-[#4c739a] mb-6",children:[(0,t.jsx)(c.default,{href:"/admin/projects",className:"hover:text-primary transition-colors",children:"Portfolio"}),(0,t.jsx)(d.ChevronRight,{size:14}),(0,t.jsx)("span",{className:"font-medium text-[#0d141b]",children:"Edit Project"})]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-black text-[#0d141b] tracking-tight",children:"Edit Portfolio Project"}),(0,t.jsx)("p",{className:"text-[#4c739a] mt-1",children:"Update your project details."})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{type:"button",className:"px-4 py-2 bg-white border border-slate-200 text-[#0d141b] font-bold rounded-lg hover:bg-slate-50 transition-colors text-sm flex items-center gap-2",children:[(0,t.jsx)(i.Eye,{size:16})," Live Preview"]}),(0,t.jsxs)("button",{type:"submit",disabled:h,className:"px-6 py-2 bg-primary text-dark font-bold rounded-lg hover:bg-white border hover:border-primary transition-colors disabled:opacity-50 text-sm flex items-center gap-2",children:[(0,t.jsx)(n.Save,{size:16})," ",h?"Saving...":"Save Changes"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"xl:col-span-2 space-y-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-[#0d141b] mb-6",children:"Project Information"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-[#0d141b] mb-2",children:["Project Title ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:y,onChange:e=>v(e.target.value),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-lg focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all text-[#0d141b]",placeholder:"e.g. Modern E-commerce Platform",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#0d141b] mb-2",children:"Slug"}),(0,t.jsx)("input",{type:"text",value:N,onChange:e=>w(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:border-primary font-mono text-sm text-slate-600",placeholder:"project-slug"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#0d141b] mb-2",children:"Role / Client"}),(0,t.jsx)("input",{type:"text",value:_,onChange:e=>M(e.target.value),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-lg focus:outline-none focus:border-primary transition-all text-[#0d141b]",placeholder:"e.g. Lead Designer"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#0d141b] mb-2",children:"Short Description"}),(0,t.jsx)("textarea",{value:k,onChange:e=>P(e.target.value),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-lg focus:outline-none focus:border-primary min-h-[100px] text-[#0d141b] resize-y",placeholder:"Brief overview of the project scope, challenges, and results..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-[#0d141b] mb-2",children:"Full Content (Case Study)"}),(0,t.jsx)("div",{className:"prose-editor-wrapper border border-slate-200 rounded-lg overflow-hidden",children:(0,t.jsx)(m,{content:C,onChange:S})})]})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:(0,t.jsx)(u.default,{label:"Gallery Images",multiple:!0,value:U,onChange:e=>F(e),bucket:"portfolio-images"})})]}),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-[#0d141b] mb-4",children:"Status"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-slate-100 rounded-lg hover:bg-slate-50 transition-colors",children:[(0,t.jsx)("input",{type:"radio",name:"status",checked:!L,onChange:()=>$(!1),className:"w-4 h-4 text-primary focus:ring-primary"}),(0,t.jsx)("span",{className:"text-sm font-medium text-slate-700",children:"Draft"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-emerald-100 bg-emerald-50/50 rounded-lg transition-colors",children:[(0,t.jsx)("input",{type:"radio",name:"status",checked:L,onChange:()=>$(!0),className:"w-4 h-4 text-emerald-500 focus:ring-emerald-500"}),(0,t.jsx)("span",{className:"text-sm font-bold text-emerald-700",children:"Public"})]})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:(0,t.jsx)(u.default,{label:"Cover Image",multiple:!1,value:z,onChange:e=>D(e),bucket:"portfolio-images"})}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-[#0d141b] mb-4",children:"Metadata"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wide text-[#4c739a] mb-2",children:"Tags"}),(0,t.jsx)(p.default,{value:O,onChange:E,placeholder:"React, Next.js (Press space to add)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wide text-[#4c739a] mb-2",children:"Demo Link"}),(0,t.jsx)("input",{type:"url",value:I,onChange:e=>A(e.target.value),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"https://..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wide text-[#4c739a] mb-2",children:"GitHub Link"}),(0,t.jsx)("input",{type:"url",value:R,onChange:e=>T(e.target.value),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"https://github.com/..."})]})]})]})]})]})]})}e.s(["default",()=>h])},26487,e=>{e.v(t=>Promise.all(["static/chunks/8c8affa20724cf5a.js","static/chunks/614b667ec6f69569.js"].map(t=>e.l(t))).then(()=>t(83441)))}]);