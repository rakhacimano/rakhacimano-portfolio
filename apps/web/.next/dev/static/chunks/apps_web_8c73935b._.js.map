{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GS-LP-003/Documents/Personal/my-portfolio-website/apps/web/lib/api.ts"],"sourcesContent":["const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000/api';\r\n\r\nexport async function fetchAPI(endpoint: string, options: RequestInit = {}) {\r\n    try {\r\n        const res = await fetch(`${API_URL}${endpoint}`, {\r\n            ...options,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                ...options.headers,\r\n            },\r\n        });\r\n\r\n        if (!res.ok) {\r\n            const errorText = await res.text();\r\n            console.error(`API Error [${res.status}]:`, errorText);\r\n            throw new Error(`API fetch failed: ${res.status} - ${errorText}`);\r\n        }\r\n\r\n        return res.json();\r\n    } catch (error) {\r\n        if (error instanceof TypeError && error.message.includes('fetch')) {\r\n            console.error('Network error - API server might be down:', error);\r\n            throw new Error('Cannot connect to API server. Make sure it is running on port 4000.');\r\n        }\r\n        throw error;\r\n    }\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAAgB;AAAhB,MAAM,UAAU,2KAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI;AAE5C,eAAe,SAAS,QAAgB,EAAE,UAAuB,CAAC,CAAC;IACtE,IAAI;QACA,MAAM,MAAM,MAAM,MAAM,GAAG,UAAU,UAAU,EAAE;YAC7C,GAAG,OAAO;YACV,SAAS;gBACL,gBAAgB;gBAChB,GAAG,QAAQ,OAAO;YACtB;QACJ;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE;YACT,MAAM,YAAY,MAAM,IAAI,IAAI;YAChC,QAAQ,KAAK,CAAC,CAAC,WAAW,EAAE,IAAI,MAAM,CAAC,EAAE,CAAC,EAAE;YAC5C,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,IAAI,MAAM,CAAC,GAAG,EAAE,WAAW;QACpE;QAEA,OAAO,IAAI,IAAI;IACnB,EAAE,OAAO,OAAO;QACZ,IAAI,iBAAiB,aAAa,MAAM,OAAO,CAAC,QAAQ,CAAC,UAAU;YAC/D,QAAQ,KAAK,CAAC,6CAA6C;YAC3D,MAAM,IAAI,MAAM;QACpB;QACA,MAAM;IACV;AACJ"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GS-LP-003/Documents/Personal/my-portfolio-website/apps/web/app/admin/users/page.tsx"],"sourcesContent":["\r\n\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { fetchAPI } from \"@/lib/api\";\r\nimport { Loader2, Plus, Search, Trash2, User } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport Image from \"next/image\";\r\n\r\ninterface User {\r\n    id: string;\r\n    name: string;\r\n    email: string;\r\n    image?: string;\r\n    role?: string;\r\n    createdAt: string;\r\n}\r\n\r\nexport default function UsersPage() {\r\n    const [users, setUsers] = useState<User[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n    const loadUsers = async () => {\r\n        try {\r\n            const data = await fetchAPI('/users');\r\n            setUsers(data);\r\n        } catch (error) {\r\n            toast.error(\"Failed to fetch users\");\r\n            console.error(error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadUsers();\r\n    }, []);\r\n\r\n    const filteredUsers = users.filter(user =>\r\n        user.name?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        user.email?.toLowerCase().includes(searchQuery.toLowerCase())\r\n    );\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center h-96\">\r\n                <Loader2 className=\"animate-spin text-primary\" size={32} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n                <div>\r\n                    <h1 className=\"text-2xl font-bold text-[#0d141b]\">Users</h1>\r\n                    <p className=\"text-[#4c739a] text-sm\">Manage registered users and administrators</p>\r\n                </div>\r\n                {/* Placeholder for Add User button if needed later */}\r\n                <button\r\n                    className=\"flex items-center gap-2 bg-primary text-dark px-4 py-2 rounded-lg hover:bg-white transition-colors font-medium text-sm border-primary\"\r\n                    onClick={() => toast(\"Feature coming soon!\")}\r\n                >\r\n                    <Plus size={18} />\r\n                    Add User\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm\">\r\n                <div className=\"p-4 border-b border-slate-200 flex items-center gap-4 bg-slate-50/50\">\r\n                    <div className=\"relative flex-1 max-w-md\">\r\n                        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\" size={18} />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search users...\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                            className=\"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all text-sm\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-left\">\r\n                        <thead className=\"bg-slate-50 text-[#4c739a] text-xs font-semibold uppercase tracking-wider\">\r\n                            <tr>\r\n                                <th className=\"px-6 py-4\">User</th>\r\n                                <th className=\"px-6 py-4\">Role</th>\r\n                                <th className=\"px-6 py-4\">Joined</th>\r\n                                <th className=\"px-6 py-4 text-right\">Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-slate-100\">\r\n                            {filteredUsers.length === 0 ? (\r\n                                <tr>\r\n                                    <td colSpan={4} className=\"px-6 py-12 text-center text-slate-400\">\r\n                                        No users found matching your search.\r\n                                    </td>\r\n                                </tr>\r\n                            ) : (\r\n                                filteredUsers.map((user) => (\r\n                                    <tr key={user.id} className=\"hover:bg-slate-50/50 transition-colors group\">\r\n                                        <td className=\"px-6 py-4\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <div className=\"size-10 rounded-full bg-slate-200 overflow-hidden bg-cover bg-center shrink-0 flex items-center justify-center text-slate-500 font-bold border border-slate-100\">\r\n                                                    {user.image ? (\r\n                                                        <Image src={user.image} alt={user.name} width={40} height={40} className=\"w-full h-full object-cover\" />\r\n                                                    ) : (\r\n                                                        <span>{user.name?.[0]?.toUpperCase() || 'U'}</span>\r\n                                                    )}\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div className=\"font-semibold text-[#0d141b] text-sm\">{user.name}</div>\r\n                                                    <div className=\"text-xs text-[#4c739a]\">{user.email}</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4\">\r\n                                            <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${user.role === 'admin'\r\n                                                ? 'bg-purple-50 text-purple-700 border-purple-200'\r\n                                                : 'bg-blue-50 text-blue-700 border-blue-200'\r\n                                                }`}>\r\n                                                {user.role || 'User'}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-sm text-[#4c739a]\">\r\n                                            {new Date(user.createdAt).toLocaleDateString()}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-right\">\r\n                                            {/* Placeholder for actions */}\r\n                                            <div className=\"flex justify-end opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                                <button className=\"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors\">\r\n                                                    <Trash2 size={16} />\r\n                                                </button>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}