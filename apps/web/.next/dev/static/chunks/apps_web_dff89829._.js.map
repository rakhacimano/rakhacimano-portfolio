{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GS-LP-003/Documents/Personal/my-portfolio-website/apps/web/lib/auth-client.ts"],"sourcesContent":["import { createAuthClient } from \"better-auth/react\";\r\n\r\nexport const authClient = createAuthClient({\r\n    baseURL: \"http://localhost:4000/api/auth\" // Hardcoded for debugging\r\n});\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,aAAa,IAAA,sKAAgB,EAAC;IACvC,SAAS,iCAAiC,0BAA0B;AACxE"}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GS-LP-003/Documents/Personal/my-portfolio-website/apps/web/app/auth/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { ArrowLeft, Eye, EyeOff, Loader2 } from \"lucide-react\";\r\nimport { authClient } from \"@/lib/auth-client\";\r\nimport { toast, Toaster } from \"sonner\";\r\n\r\nexport default function AuthPage() {\r\n    const router = useRouter();\r\n    const [name, setName] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [isSignUp, setIsSignUp] = useState(false);\r\n    const [showPassword, setShowPassword] = useState(false);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        // Create a timeout promise\r\n        const timeout = new Promise((_, reject) => {\r\n            setTimeout(() => reject(new Error(\"Request timeout - server took too long to respond\")), 15000);\r\n        });\r\n\r\n        try {\r\n            console.log(\"Starting auth request...\", { isSignUp, email, name });\r\n\r\n            if (isSignUp) {\r\n                const authPromise = authClient.signUp.email({\r\n                    email,\r\n                    password,\r\n                    name,\r\n                    callbackURL: \"/admin\"\r\n                });\r\n\r\n                // Race between auth request and timeout\r\n                const res = await Promise.race([authPromise, timeout]) as Awaited<typeof authPromise>;\r\n                console.log(\"SignUp Response:\", res);\r\n\r\n                if (res.error) {\r\n                    throw new Error(res.error.message || \"Failed to create account\");\r\n                }\r\n\r\n                toast.success(\"Account created successfully!\", {\r\n                    description: \"Welcome to your portfolio admin panel.\"\r\n                });\r\n                router.push('/admin');\r\n            } else {\r\n                const authPromise = authClient.signIn.email({\r\n                    email,\r\n                    password,\r\n                    callbackURL: \"/admin\"\r\n                });\r\n\r\n                const res = await Promise.race([authPromise, timeout]) as Awaited<typeof authPromise>;\r\n                console.log(\"SignIn Response:\", res);\r\n\r\n                if (res.error) {\r\n                    throw new Error(res.error.message || \"Invalid email or password\");\r\n                }\r\n\r\n                toast.success(\"Welcome back!\", {\r\n                    description: \"Redirecting to admin panel...\"\r\n                });\r\n                router.push('/admin');\r\n            }\r\n        } catch (error: unknown) {\r\n            console.error(\"Auth error caught:\", error);\r\n\r\n            let errorMessage = \"Something went wrong. Please try again.\";\r\n\r\n            if (error instanceof Error) {\r\n                if (error.message.includes(\"timeout\")) {\r\n                    errorMessage = \"Connection timeout. Please check if the server is running and try again.\";\r\n                } else if (error.message.includes(\"fetch\")) {\r\n                    errorMessage = \"Cannot connect to server. Please make sure the API is running on port 4000.\";\r\n                } else if (error.message.includes(\"credentials\") || error.message.includes(\"password\")) {\r\n                    errorMessage = \"Invalid email or password. Please check your credentials.\";\r\n                } else if (error.message.includes(\"exists\") || error.message.includes(\"duplicate\")) {\r\n                    errorMessage = \"An account with this email already exists. Try signing in instead.\";\r\n                } else {\r\n                    errorMessage = error.message;\r\n                }\r\n            }\r\n\r\n            toast.error(\"Authentication Failed\", {\r\n                description: errorMessage,\r\n                duration: 5000\r\n            });\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-black text-white flex flex-col justify-center items-center p-4\">\r\n            <Toaster\r\n                theme=\"dark\"\r\n                position=\"top-center\"\r\n                toastOptions={{\r\n                    style: {\r\n                        background: '#1a1a1a',\r\n                        border: '1px solid rgba(255,255,255,0.1)',\r\n                        color: '#fff',\r\n                    },\r\n                }}\r\n            />\r\n            <div className=\"w-full max-w-md\">\r\n                <Link href=\"/\" className=\"inline-flex items-center gap-2 text-gray-400 hover:text-white mb-8 transition-colors text-sm font-bold uppercase tracking-wide\">\r\n                    <ArrowLeft size={16} />\r\n                    Back to Portfolio\r\n                </Link>\r\n\r\n                <div className=\"bg-dark/50 border border-white/10 rounded-2xl p-8 backdrop-blur-sm\">\r\n                    <div className=\"mb-8 text-center\">\r\n                        <h1 className=\"text-2xl font-black mb-2\">{isSignUp ? \"Create Admin Account\" : \"Admin Access\"}</h1>\r\n                        <p className=\"text-gray-400 text-sm\">\r\n                            {isSignUp ? \"Register to manage your portfolio\" : \"Sign in to manage your portfolio content\"}\r\n                        </p>\r\n                    </div>\r\n\r\n                    <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                        {isSignUp && (\r\n                            <div>\r\n                                <label className=\"block text-xs font-bold uppercase tracking-wide text-gray-500 mb-2\">Full Name</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={name}\r\n                                    onChange={(e) => setName(e.target.value)}\r\n                                    className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-primary focus:bg-white/10 transition-all font-medium text-white placeholder-gray-600\"\r\n                                    placeholder=\"Your Name\"\r\n                                    required\r\n                                    disabled={loading}\r\n                                />\r\n                            </div>\r\n                        )}\r\n                        <div>\r\n                            <label className=\"block text-xs font-bold uppercase tracking-wide text-gray-500 mb-2\">Email Address</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                                className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-primary focus:bg-white/10 transition-all font-medium text-white placeholder-gray-600\"\r\n                                placeholder=\"name@example.com\"\r\n                                required\r\n                                disabled={loading}\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label className=\"block text-xs font-bold uppercase tracking-wide text-gray-500 mb-2\">Password</label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type={showPassword ? \"text\" : \"password\"}\r\n                                    value={password}\r\n                                    onChange={(e) => setPassword(e.target.value)}\r\n                                    className=\"w-full px-4 py-3 pr-12 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-primary focus:bg-white/10 transition-all font-medium text-white placeholder-gray-600\"\r\n                                    placeholder=\"••••••••\"\r\n                                    required\r\n                                    disabled={loading}\r\n                                    minLength={8}\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowPassword(!showPassword)}\r\n                                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white transition-colors p-1\"\r\n                                    tabIndex={-1}\r\n                                >\r\n                                    {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\r\n                                </button>\r\n                            </div>\r\n                            {isSignUp && (\r\n                                <p className=\"text-xs text-gray-600 mt-1\">Minimum 8 characters</p>\r\n                            )}\r\n                        </div>\r\n\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={loading}\r\n                            className=\"w-full py-3 bg-primary text-dark font-black rounded-lg hover:bg-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed mt-2 flex items-center justify-center gap-2\"\r\n                        >\r\n                            {loading ? (\r\n                                <>\r\n                                    <Loader2 size={20} className=\"animate-spin\" />\r\n                                    {isSignUp ? \"Creating Account...\" : \"Signing In...\"}\r\n                                </>\r\n                            ) : (\r\n                                isSignUp ? \"Create Account\" : \"Sign In\"\r\n                            )}\r\n                        </button>\r\n                    </form>\r\n\r\n                    <div className=\"mt-6 text-center\">\r\n                        <button\r\n                            onClick={() => setIsSignUp(!isSignUp)}\r\n                            className=\"text-sm text-gray-500 hover:text-white font-medium transition-colors\"\r\n                            disabled={loading}\r\n                        >\r\n                            {isSignUp ? \"Already have an account? Sign in\" : \"Need an account? Create one\"}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;AAPA;;;;;;;AASe,SAAS;;IACpB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IAEjD,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,WAAW;QAEX,2BAA2B;QAC3B,MAAM,UAAU,IAAI,QAAQ,CAAC,GAAG;YAC5B,WAAW,IAAM,OAAO,IAAI,MAAM,uDAAuD;QAC7F;QAEA,IAAI;YACA,QAAQ,GAAG,CAAC,4BAA4B;gBAAE;gBAAU;gBAAO;YAAK;YAEhE,IAAI,UAAU;gBACV,MAAM,cAAc,qJAAU,CAAC,MAAM,CAAC,KAAK,CAAC;oBACxC;oBACA;oBACA;oBACA,aAAa;gBACjB;gBAEA,wCAAwC;gBACxC,MAAM,MAAM,MAAM,QAAQ,IAAI,CAAC;oBAAC;oBAAa;iBAAQ;gBACrD,QAAQ,GAAG,CAAC,oBAAoB;gBAEhC,IAAI,IAAI,KAAK,EAAE;oBACX,MAAM,IAAI,MAAM,IAAI,KAAK,CAAC,OAAO,IAAI;gBACzC;gBAEA,oJAAK,CAAC,OAAO,CAAC,iCAAiC;oBAC3C,aAAa;gBACjB;gBACA,OAAO,IAAI,CAAC;YAChB,OAAO;gBACH,MAAM,cAAc,qJAAU,CAAC,MAAM,CAAC,KAAK,CAAC;oBACxC;oBACA;oBACA,aAAa;gBACjB;gBAEA,MAAM,MAAM,MAAM,QAAQ,IAAI,CAAC;oBAAC;oBAAa;iBAAQ;gBACrD,QAAQ,GAAG,CAAC,oBAAoB;gBAEhC,IAAI,IAAI,KAAK,EAAE;oBACX,MAAM,IAAI,MAAM,IAAI,KAAK,CAAC,OAAO,IAAI;gBACzC;gBAEA,oJAAK,CAAC,OAAO,CAAC,iBAAiB;oBAC3B,aAAa;gBACjB;gBACA,OAAO,IAAI,CAAC;YAChB;QACJ,EAAE,OAAO,OAAgB;YACrB,QAAQ,KAAK,CAAC,sBAAsB;YAEpC,IAAI,eAAe;YAEnB,IAAI,iBAAiB,OAAO;gBACxB,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,YAAY;oBACnC,eAAe;gBACnB,OAAO,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,UAAU;oBACxC,eAAe;gBACnB,OAAO,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,kBAAkB,MAAM,OAAO,CAAC,QAAQ,CAAC,aAAa;oBACpF,eAAe;gBACnB,OAAO,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,aAAa,MAAM,OAAO,CAAC,QAAQ,CAAC,cAAc;oBAChF,eAAe;gBACnB,OAAO;oBACH,eAAe,MAAM,OAAO;gBAChC;YACJ;YAEA,oJAAK,CAAC,KAAK,CAAC,yBAAyB;gBACjC,aAAa;gBACb,UAAU;YACd;QACJ,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC,sJAAO;gBACJ,OAAM;gBACN,UAAS;gBACT,cAAc;oBACV,OAAO;wBACH,YAAY;wBACZ,QAAQ;wBACR,OAAO;oBACX;gBACJ;;;;;;0BAEJ,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,0KAAI;wBAAC,MAAK;wBAAI,WAAU;;0CACrB,6LAAC,gOAAS;gCAAC,MAAM;;;;;;4BAAM;;;;;;;kCAI3B,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAG,WAAU;kDAA4B,WAAW,yBAAyB;;;;;;kDAC9E,6LAAC;wCAAE,WAAU;kDACR,WAAW,sCAAsC;;;;;;;;;;;;0CAI1D,6LAAC;gCAAK,UAAU;gCAAc,WAAU;;oCACnC,0BACG,6LAAC;;0DACG,6LAAC;gDAAM,WAAU;0DAAqE;;;;;;0DACtF,6LAAC;gDACG,MAAK;gDACL,OAAO;gDACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;gDACvC,WAAU;gDACV,aAAY;gDACZ,QAAQ;gDACR,UAAU;;;;;;;;;;;;kDAItB,6LAAC;;0DACG,6LAAC;gDAAM,WAAU;0DAAqE;;;;;;0DACtF,6LAAC;gDACG,MAAK;gDACL,OAAO;gDACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gDACxC,WAAU;gDACV,aAAY;gDACZ,QAAQ;gDACR,UAAU;;;;;;;;;;;;kDAIlB,6LAAC;;0DACG,6LAAC;gDAAM,WAAU;0DAAqE;;;;;;0DACtF,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDACG,MAAM,eAAe,SAAS;wDAC9B,OAAO;wDACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wDAC3C,WAAU;wDACV,aAAY;wDACZ,QAAQ;wDACR,UAAU;wDACV,WAAW;;;;;;kEAEf,6LAAC;wDACG,MAAK;wDACL,SAAS,IAAM,gBAAgB,CAAC;wDAChC,WAAU;wDACV,UAAU,CAAC;kEAEV,6BAAe,6LAAC,uNAAM;4DAAC,MAAM;;;;;iFAAS,6LAAC,0MAAG;4DAAC,MAAM;;;;;;;;;;;;;;;;;4CAGzD,0BACG,6LAAC;gDAAE,WAAU;0DAA6B;;;;;;;;;;;;kDAIlD,6LAAC;wCACG,MAAK;wCACL,UAAU;wCACV,WAAU;kDAET,wBACG;;8DACI,6LAAC,+NAAO;oDAAC,MAAM;oDAAI,WAAU;;;;;;gDAC5B,WAAW,wBAAwB;;2DAGxC,WAAW,mBAAmB;;;;;;;;;;;;0CAK1C,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC;oCACG,SAAS,IAAM,YAAY,CAAC;oCAC5B,WAAU;oCACV,UAAU;8CAET,WAAW,qCAAqC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO7E;GAvMwB;;QACL,kJAAS;;;KADJ"}}]
}