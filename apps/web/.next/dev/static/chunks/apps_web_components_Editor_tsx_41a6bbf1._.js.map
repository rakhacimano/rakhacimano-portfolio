{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GS-LP-003/Documents/Personal/my-portfolio-website/apps/web/components/Editor.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEditor, EditorContent } from '@tiptap/react';\r\nimport StarterKit from '@tiptap/starter-kit';\r\nimport ImageExtension from '@tiptap/extension-image';\r\nimport { Bold, Italic, Heading2, Image as ImageIcon } from 'lucide-react';\r\nimport { useCallback } from 'react';\r\nimport { fetchAPI } from '@/lib/api';\r\n\r\ninterface EditorProps {\r\n    content: string;\r\n    onChange: (content: string) => void;\r\n}\r\n\r\nexport default function Editor({ content, onChange }: EditorProps) {\r\n    const editor = useEditor({\r\n        immediatelyRender: false,\r\n        extensions: [\r\n            StarterKit,\r\n            ImageExtension.configure({\r\n                inline: true,\r\n                allowBase64: true,\r\n            }),\r\n        ],\r\n        content,\r\n        onUpdate: ({ editor }) => {\r\n            onChange(editor.getHTML());\r\n        },\r\n        editorProps: {\r\n            attributes: {\r\n                class: 'prose prose-lg max-w-none focus:outline-none min-h-[300px] text-[#0d141b]',\r\n            },\r\n        },\r\n    });\r\n\r\n    const addImage = useCallback(() => {\r\n        const input = document.createElement('input');\r\n        input.type = 'file';\r\n        input.accept = 'image/*';\r\n        input.onchange = async () => {\r\n            if (input.files?.length) {\r\n                const file = input.files[0];\r\n                const formData = new FormData();\r\n                formData.append('image', file);\r\n\r\n                try {\r\n                    const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000/api'}/upload`, {\r\n                        method: 'POST',\r\n                        body: formData,\r\n                    });\r\n                    const data = await res.json();\r\n\r\n                    if (data.url && editor) {\r\n                        editor.chain().focus().setImage({ src: data.url }).run();\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Upload failed', error);\r\n                    alert('Image upload failed');\r\n                }\r\n            }\r\n        };\r\n        input.click();\r\n    }, [editor]);\r\n\r\n    if (!editor) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"border border-slate-200 rounded-xl overflow-hidden bg-white\">\r\n            <div className=\"bg-slate-50 border-b border-slate-200 p-2 flex gap-2\">\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={() => editor.chain().focus().toggleBold().run()}\r\n                    className={`p-2 rounded text-slate-500 ${editor.isActive('bold') ? 'bg-slate-200 text-slate-900' : 'hover:bg-slate-100 hover:text-slate-900'}`}\r\n                >\r\n                    <Bold size={16} />\r\n                </button>\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={() => editor.chain().focus().toggleItalic().run()}\r\n                    className={`p-2 rounded text-slate-500 ${editor.isActive('italic') ? 'bg-slate-200 text-slate-900' : 'hover:bg-slate-100 hover:text-slate-900'}`}\r\n                >\r\n                    <Italic size={16} />\r\n                </button>\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={() => editor.chain().focus().toggleHeading({ level: 2 }).run()}\r\n                    className={`p-2 rounded text-slate-500 ${editor.isActive('heading', { level: 2 }) ? 'bg-slate-200 text-slate-900' : 'hover:bg-slate-100 hover:text-slate-900'}`}\r\n                >\r\n                    <Heading2 size={16} />\r\n                </button>\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={addImage}\r\n                    className=\"p-2 rounded text-slate-500 hover:bg-slate-100 hover:text-slate-900\"\r\n                >\r\n                    <ImageIcon size={16} />\r\n                </button>\r\n            </div>\r\n            <div className=\"p-4 bg-white\">\r\n                <EditorContent editor={editor} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n"],"names":[],"mappings":";;;;AA8C+C;;AA5C/C;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;AANA;;;;;;AAce,SAAS,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAe;;IAC7D,MAAM,SAAS,IAAA,kLAAS,EAAC;QACrB,mBAAmB;QACnB,YAAY;YACR,yKAAU;YACV,6KAAc,CAAC,SAAS,CAAC;gBACrB,QAAQ;gBACR,aAAa;YACjB;SACH;QACD;QACA,QAAQ;wCAAE,CAAC,EAAE,MAAM,EAAE;gBACjB,SAAS,OAAO,OAAO;YAC3B;;QACA,aAAa;YACT,YAAY;gBACR,OAAO;YACX;QACJ;IACJ;IAEA,MAAM,WAAW,IAAA,4KAAW;wCAAC;YACzB,MAAM,QAAQ,SAAS,aAAa,CAAC;YACrC,MAAM,IAAI,GAAG;YACb,MAAM,MAAM,GAAG;YACf,MAAM,QAAQ;gDAAG;oBACb,IAAI,MAAM,KAAK,EAAE,QAAQ;wBACrB,MAAM,OAAO,MAAM,KAAK,CAAC,EAAE;wBAC3B,MAAM,WAAW,IAAI;wBACrB,SAAS,MAAM,CAAC,SAAS;wBAEzB,IAAI;4BACA,MAAM,MAAM,MAAM,MAAM,GAAG,2KAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI,4BAA4B,OAAO,CAAC,EAAE;gCAChG,QAAQ;gCACR,MAAM;4BACV;4BACA,MAAM,OAAO,MAAM,IAAI,IAAI;4BAE3B,IAAI,KAAK,GAAG,IAAI,QAAQ;gCACpB,OAAO,KAAK,GAAG,KAAK,GAAG,QAAQ,CAAC;oCAAE,KAAK,KAAK,GAAG;gCAAC,GAAG,GAAG;4BAC1D;wBACJ,EAAE,OAAO,OAAO;4BACZ,QAAQ,KAAK,CAAC,iBAAiB;4BAC/B,MAAM;wBACV;oBACJ;gBACJ;;YACA,MAAM,KAAK;QACf;uCAAG;QAAC;KAAO;IAEX,IAAI,CAAC,QAAQ;QACT,OAAO;IACX;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBACG,MAAK;wBACL,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,UAAU,GAAG,GAAG;wBACtD,WAAW,CAAC,2BAA2B,EAAE,OAAO,QAAQ,CAAC,UAAU,gCAAgC,2CAA2C;kCAE9I,cAAA,6LAAC,6MAAI;4BAAC,MAAM;;;;;;;;;;;kCAEhB,6LAAC;wBACG,MAAK;wBACL,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,YAAY,GAAG,GAAG;wBACxD,WAAW,CAAC,2BAA2B,EAAE,OAAO,QAAQ,CAAC,YAAY,gCAAgC,2CAA2C;kCAEhJ,cAAA,6LAAC,mNAAM;4BAAC,MAAM;;;;;;;;;;;kCAElB,6LAAC;wBACG,MAAK;wBACL,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,aAAa,CAAC;gCAAE,OAAO;4BAAE,GAAG,GAAG;wBACrE,WAAW,CAAC,2BAA2B,EAAE,OAAO,QAAQ,CAAC,WAAW;4BAAE,OAAO;wBAAE,KAAK,gCAAgC,2CAA2C;kCAE/J,cAAA,6LAAC,6NAAQ;4BAAC,MAAM;;;;;;;;;;;kCAEpB,6LAAC;wBACG,MAAK;wBACL,SAAS;wBACT,WAAU;kCAEV,cAAA,6LAAC,gNAAS;4BAAC,MAAM;;;;;;;;;;;;;;;;;0BAGzB,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC,sLAAa;oBAAC,QAAQ;;;;;;;;;;;;;;;;;AAIvC;GA3FwB;;QACL,kLAAS;;;KADJ"}}]
}