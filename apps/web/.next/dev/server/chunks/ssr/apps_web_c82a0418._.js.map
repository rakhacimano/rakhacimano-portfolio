{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GS-LP-003/Documents/Personal/my-portfolio-website/apps/web/lib/auth-client.ts"],"sourcesContent":["import { createAuthClient } from \"better-auth/react\";\r\n\r\n// Use relative URL for same-origin API calls\r\nexport const authClient = createAuthClient({\r\n    baseURL: \"/api/auth\",\r\n    fetchOptions: {\r\n        credentials: \"include\"\r\n    }\r\n});\r\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,aAAa,IAAA,mKAAgB,EAAC;IACvC,SAAS;IACT,cAAc;QACV,aAAa;IACjB;AACJ"}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GS-LP-003/Documents/Personal/my-portfolio-website/apps/web/app/admin/layout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { LayoutGrid, LayoutDashboard, FileText, Briefcase, Image, Settings, Search, Bell, HelpCircle, LogOut, User as UserIcon } from \"lucide-react\";\r\nimport { authClient } from \"@/lib/auth-client\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function AdminLayout({\r\n    children,\r\n}: {\r\n    children: React.ReactNode;\r\n}) {\r\n    const router = useRouter();\r\n    const pathname = usePathname();\r\n    const [mounted, setMounted] = useState(false);\r\n    const { data: session, isPending } = authClient.useSession();\r\n\r\n    // Only check auth after the component is mounted to avoid hydration issues\r\n    useEffect(() => {\r\n        setMounted(true);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        // Only redirect after mounted, not pending, and no session\r\n        if (mounted && !isPending && !session?.user) {\r\n            router.replace('/auth');\r\n        }\r\n    }, [session, isPending, router, mounted]);\r\n\r\n    // Show loading while pending or not mounted\r\n    if (!mounted || isPending) return <div className=\"h-screen flex items-center justify-center bg-[#f6f7f8] text-slate-400\">Loading...</div>;\r\n\r\n    if (!session?.user) return null;\r\n\r\n    const handleLogout = async () => {\r\n        await authClient.signOut({ fetchOptions: { credentials: \"include\" } });\r\n        toast.success(\"Logged out successfully\");\r\n        router.push('/auth');\r\n    };\r\n\r\n    const isActive = (path: string) => pathname === path;\r\n\r\n    return (\r\n        <div className=\"flex h-screen overflow-hidden bg-[#f6f7f8] text-[#0d141b] font-sans\">\r\n            {/* Sidebar Navigation */}\r\n            <aside className=\"w-64 flex-shrink-0 border-r border-slate-200 bg-white flex flex-col h-full\">\r\n                <div className=\"p-6 flex items-center gap-3\">\r\n                    <div className=\"bg-primary size-10 rounded-lg flex items-center justify-center text-dark\">\r\n                        <LayoutGrid size={24} />\r\n                    </div>\r\n                    <div className=\"flex flex-col\">\r\n                        <h1 className=\"text-[#0d141b] text-base font-bold leading-tight\">CMS Admin</h1>\r\n                        <p className=\"text-[#4c739a] text-xs font-normal\">Management Portal</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <nav className=\"flex-1 px-4 space-y-1\">\r\n                    <Link\r\n                        href=\"/admin\"\r\n                        className={`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors ${isActive('/admin')\r\n                            ? 'bg-primary/10 text-primary font-bold'\r\n                            : 'text-[#4c739a] hover:bg-slate-100'\r\n                            }`}\r\n                    >\r\n                        <LayoutDashboard size={20} />\r\n                        <span className=\"text-sm font-medium\">Dashboard</span>\r\n                    </Link>\r\n                    <Link\r\n                        href=\"/admin/users\"\r\n                        className={`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors ${isActive('/admin/users')\r\n                            ? 'bg-primary/10 text-primary font-bold'\r\n                            : 'text-[#4c739a] hover:bg-slate-100'\r\n                            }`}\r\n                    >\r\n                        <UserIcon size={20} />\r\n                        <span className=\"text-sm font-medium\">Users</span>\r\n                    </Link>\r\n                    <Link\r\n                        href=\"/admin/blogs\"\r\n                        className={`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors ${isActive('/admin/blogs')\r\n                            ? 'bg-primary/10 text-primary font-bold'\r\n                            : 'text-[#4c739a] hover:bg-slate-100'\r\n                            }`}\r\n                    >\r\n                        <FileText size={20} />\r\n                        <span className=\"text-sm font-medium\">Blogs</span>\r\n                    </Link>\r\n                    <Link\r\n                        href=\"/admin/projects\"\r\n                        className={`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors ${isActive('/admin/projects')\r\n                            ? 'bg-primary/10 text-primary font-bold'\r\n                            : 'text-[#4c739a] hover:bg-slate-100'\r\n                            }`}\r\n                    >\r\n                        <Briefcase size={20} />\r\n                        <span className=\"text-sm font-medium\">Portfolio</span>\r\n                    </Link>\r\n\r\n                    <div className=\"pt-4 pb-2\">\r\n                        <p className=\"px-3 text-[10px] font-bold text-slate-400 uppercase tracking-widest\">System</p>\r\n                    </div>\r\n\r\n                    <button\r\n                        onClick={handleLogout}\r\n                        className=\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-[#4c739a] hover:bg-red-50 hover:text-red-600 transition-colors text-left\"\r\n                    >\r\n                        <LogOut size={20} />\r\n                        <span className=\"text-sm font-medium\">Logout</span>\r\n                    </button>\r\n                </nav>\r\n\r\n                <div className=\"p-4 border-t border-slate-200\">\r\n                    <div className=\"flex items-center gap-3 px-2\">\r\n                        <div className=\"size-8 rounded-full bg-slate-200 flex items-center justify-center text-slate-500 font-bold\">\r\n                            {session.user.name?.[0]?.toUpperCase() || 'U'}\r\n                        </div>\r\n                        <div className=\"flex-1 overflow-hidden\">\r\n                            <p className=\"text-sm font-semibold truncate text-[#0d141b]\">{session.user.name}</p>\r\n                            <p className=\"text-xs text-[#4c739a] truncate\">{session.user.email}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </aside>\r\n\r\n            {/* Main Content Area */}\r\n            <main className=\"flex-1 overflow-y-auto bg-[#f6f7f8]\">\r\n                {/* Top Navigation Bar */}\r\n                <header className=\"sticky top-0 z-10 flex items-center justify-between bg-white/80 backdrop-blur-md border-b border-slate-200 px-8 py-4\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <h2 className=\"text-xl font-bold tracking-tight text-[#0d141b]\">Dashboard Overview</h2>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-6\">\r\n\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <button className=\"p-2 text-slate-500 hover:bg-slate-100 rounded-full relative transition-colors\">\r\n                                <Bell size={20} />\r\n                                <span className=\"absolute top-2 right-2 size-2 bg-red-500 border-2 border-white rounded-full\"></span>\r\n                            </button>\r\n                            <button className=\"p-2 text-slate-500 hover:bg-slate-100 rounded-full transition-colors\">\r\n                                <HelpCircle size={20} />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </header>\r\n\r\n                <div className=\"p-8\">\r\n                    {children}\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS,YAAY,EAChC,QAAQ,EAGX;IACG,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,EAAE,MAAM,OAAO,EAAE,SAAS,EAAE,GAAG,kJAAU,CAAC,UAAU;IAE1D,2EAA2E;IAC3E,IAAA,kNAAS,EAAC;QACN,WAAW;IACf,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACN,2DAA2D;QAC3D,IAAI,WAAW,CAAC,aAAa,CAAC,SAAS,MAAM;YACzC,OAAO,OAAO,CAAC;QACnB;IACJ,GAAG;QAAC;QAAS;QAAW;QAAQ;KAAQ;IAExC,4CAA4C;IAC5C,IAAI,CAAC,WAAW,WAAW,qBAAO,8OAAC;QAAI,WAAU;kBAAwE;;;;;;IAEzH,IAAI,CAAC,SAAS,MAAM,OAAO;IAE3B,MAAM,eAAe;QACjB,MAAM,kJAAU,CAAC,OAAO,CAAC;YAAE,cAAc;gBAAE,aAAa;YAAU;QAAE;QACpE,iJAAK,CAAC,OAAO,CAAC;QACd,OAAO,IAAI,CAAC;IAChB;IAEA,MAAM,WAAW,CAAC,OAAiB,aAAa;IAEhD,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAM,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,gOAAU;oCAAC,MAAM;;;;;;;;;;;0CAEtB,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAG,WAAU;kDAAmD;;;;;;kDACjE,8OAAC;wCAAE,WAAU;kDAAqC;;;;;;;;;;;;;;;;;;kCAI1D,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,uKAAI;gCACD,MAAK;gCACL,WAAW,CAAC,iEAAiE,EAAE,SAAS,YAClF,yCACA,qCACA;;kDAEN,8OAAC,+OAAe;wCAAC,MAAM;;;;;;kDACvB,8OAAC;wCAAK,WAAU;kDAAsB;;;;;;;;;;;;0CAE1C,8OAAC,uKAAI;gCACD,MAAK;gCACL,WAAW,CAAC,iEAAiE,EAAE,SAAS,kBAClF,yCACA,qCACA;;kDAEN,8OAAC,0MAAQ;wCAAC,MAAM;;;;;;kDAChB,8OAAC;wCAAK,WAAU;kDAAsB;;;;;;;;;;;;0CAE1C,8OAAC,uKAAI;gCACD,MAAK;gCACL,WAAW,CAAC,iEAAiE,EAAE,SAAS,kBAClF,yCACA,qCACA;;kDAEN,8OAAC,0NAAQ;wCAAC,MAAM;;;;;;kDAChB,8OAAC;wCAAK,WAAU;kDAAsB;;;;;;;;;;;;0CAE1C,8OAAC,uKAAI;gCACD,MAAK;gCACL,WAAW,CAAC,iEAAiE,EAAE,SAAS,qBAClF,yCACA,qCACA;;kDAEN,8OAAC,yNAAS;wCAAC,MAAM;;;;;;kDACjB,8OAAC;wCAAK,WAAU;kDAAsB;;;;;;;;;;;;0CAG1C,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCAAE,WAAU;8CAAsE;;;;;;;;;;;0CAGvF,8OAAC;gCACG,SAAS;gCACT,WAAU;;kDAEV,8OAAC,oNAAM;wCAAC,MAAM;;;;;;kDACd,8OAAC;wCAAK,WAAU;kDAAsB;;;;;;;;;;;;;;;;;;kCAI9C,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAU;8CACV,QAAQ,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,iBAAiB;;;;;;8CAE9C,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAE,WAAU;sDAAiD,QAAQ,IAAI,CAAC,IAAI;;;;;;sDAC/E,8OAAC;4CAAE,WAAU;sDAAmC,QAAQ,IAAI,CAAC,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAOlF,8OAAC;gBAAK,WAAU;;kCAEZ,8OAAC;wBAAO,WAAU;;0CACd,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCAAG,WAAU;8CAAkD;;;;;;;;;;;0CAEpE,8OAAC;gCAAI,WAAU;0CAEX,cAAA,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAO,WAAU;;8DACd,8OAAC,0MAAI;oDAAC,MAAM;;;;;;8DACZ,8OAAC;oDAAK,WAAU;;;;;;;;;;;;sDAEpB,8OAAC;4CAAO,WAAU;sDACd,cAAA,8OAAC,4OAAU;gDAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAMlC,8OAAC;wBAAI,WAAU;kCACV;;;;;;;;;;;;;;;;;;AAKrB"}}]
}