module.exports=[33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},94787,a=>{"use strict";let b=`${process.env.VERCEL_URL?`https://${process.env.VERCEL_URL}`:process.env.NEXT_PUBLIC_APP_URL?process.env.NEXT_PUBLIC_APP_URL:"http://localhost:3000"}/api`;async function c(a,d={}){try{let c=await fetch(`${b}${a}`,{...d,cache:"no-store",headers:{"Content-Type":"application/json",...d.headers}});if(!c.ok){let a=await c.text();throw console.error(`API Error [${c.status}]:`,a),Error(`API fetch failed: ${c.status} - ${a}`)}return c.json()}catch(a){if(a instanceof TypeError&&a.message.includes("fetch"))throw console.error("Network error:",a),Error("Cannot connect to API. Please try again.");throw a}}a.s(["fetchAPI",()=>c])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},77156,a=>{"use strict";let b=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},32245,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"BailoutToCSR",{enumerable:!0,get:function(){return e}});let d=a.r(41997);function e({reason:a,children:b}){throw Object.defineProperty(new d.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},7773,(a,b,c)=>{"use strict";function d(a){return a.split("/").map(a=>encodeURIComponent(a)).join("/")}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"encodeURIPath",{enumerable:!0,get:function(){return d}})},97458,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"PreloadChunks",{enumerable:!0,get:function(){return i}});let d=a.r(87924),e=a.r(35112),f=a.r(56704),g=a.r(7773),h=a.r(68063);function i({moduleIds:a}){let b=f.workAsyncStorage.getStore();if(void 0===b)return null;let c=[];if(b.reactLoadableManifest&&a){let d=b.reactLoadableManifest;for(let b of a){if(!d[b])continue;let a=d[b].files;c.push(...a)}}if(0===c.length)return null;let i=(0,h.getDeploymentIdQueryOrEmptyString)();return(0,d.jsx)(d.Fragment,{children:c.map(a=>{let c=`${b.assetPrefix}/_next/${(0,g.encodeURIPath)(a)}${i}`;return a.endsWith(".css")?(0,d.jsx)("link",{precedence:"dynamic",href:c,rel:"stylesheet",as:"style",nonce:b.nonce},a):((0,e.preload)(c,{as:"script",fetchPriority:"low",nonce:b.nonce}),null)})})}},69853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(87924),e=a.r(72131),f=a.r(32245),g=a.r(97458);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},19721,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(33354)._(a.r(69853));function e(a,b){let c={};"function"==typeof a&&(c.loader=a);let e={...c,...b};return(0,d.default)({...e,modules:e.loadableGenerated?.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},14548,50522,42312,84985,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>c],14548);let d=(0,b.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>d],50522);var e=a.i(87924),f=a.i(72131),g=a.i(96221);let h=(0,b.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),i=(0,b.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var j=a.i(23292);function k({value:a,onChange:b,multiple:c=!1,label:d="Upload Image",maxFiles:k=10,bucket:l="blog-images"}){let[m,n]=(0,f.useState)(!1),o=async d=>{let e=d.target.files;if(!e||0===e.length)return;n(!0);let f=[];try{for(let a=0;a<e.length;a++){let b=new FormData;b.append("image",e[a]);let c=await fetch(`/api/upload?bucket=${l}`,{method:"POST",body:b});if(!c.ok)throw Error("Upload failed");let d=await c.json();f.push(d.url)}if(c){let c=Array.isArray(a)?a:[];b([...c,...f])}else b(f[0]);j.toast.success("Image uploaded successfully")}catch(a){console.error(a),j.toast.error("Failed to upload image")}finally{n(!1)}},p=(d,f)=>(0,e.jsxs)("div",{className:"relative aspect-square bg-slate-100 rounded-lg overflow-hidden group border border-slate-200",children:[(0,e.jsx)("img",{src:d,alt:"Uploaded",className:"absolute inset-0 w-full h-full object-contain"}),(0,e.jsx)("button",{onClick:()=>{c&&Array.isArray(a)?b(a.filter((a,b)=>b!==f)):b("")},className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",type:"button",children:(0,e.jsx)(i,{size:14})})]},d+f);return(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("h3",{className:"text-[#0d141b] text-sm font-bold uppercase tracking-wide",children:d}),c&&(0,e.jsxs)("span",{className:"text-xs text-[#4c739a]",children:["Max ",k," images"]})]}),(0,e.jsxs)("label",{className:"border-2 border-dashed border-primary/30 bg-primary/5 rounded-xl p-8 flex flex-col items-center justify-center text-center group cursor-pointer hover:bg-primary/10 transition-colors",children:[(0,e.jsx)("input",{type:"file",className:"hidden",accept:"image/*",multiple:c,onChange:o,disabled:m}),(0,e.jsx)("div",{className:"bg-primary/20 p-3 rounded-full mb-3 group-hover:scale-110 transition-transform",children:m?(0,e.jsx)(g.Loader2,{className:"text-primary animate-spin",size:24}):(0,e.jsx)(h,{className:"text-primary",size:24})}),(0,e.jsx)("p",{className:"text-[#0d141b] font-semibold text-sm",children:m?"Uploading...":"Click to upload or drag and drop"}),(0,e.jsx)("p",{className:"text-[#4c739a] text-xs mt-1",children:"PNG, JPG or WebP"})]}),c?(0,e.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:Array.isArray(a)&&a.map((a,b)=>p(a,b))}):a&&"string"==typeof a&&(0,e.jsx)("div",{className:"w-40",children:p(a,0)})]})}function l({value:a,onChange:b,placeholder:c="Type and press space..."}){let[d,g]=(0,f.useState)(""),h=()=>{let c=d.trim();c&&!a.includes(c)&&(b([...a,c]),g(""))},j=c=>{let d=[...a];d.splice(c,1),b(d)};return(0,e.jsxs)("div",{className:"flex flex-wrap items-center gap-2 p-2 bg-white border border-slate-200 rounded-lg focus-within:border-primary focus-within:ring-1 focus-within:ring-primary transition-all",children:[a.map((a,b)=>(0,e.jsxs)("span",{className:"flex items-center gap-1 bg-primary/10 text-primary px-2 py-1 rounded-md text-sm font-bold animate-in fade-in zoom-in duration-200",children:[a,(0,e.jsx)("button",{type:"button",onClick:()=>j(b),className:"hover:text-red-500 transition-colors",children:(0,e.jsx)(i,{size:14})})]},b)),(0,e.jsx)("input",{type:"text",value:d,onChange:a=>g(a.target.value),onKeyDown:b=>{" "===b.key||"Enter"===b.key?(b.preventDefault(),h()):"Backspace"===b.key&&!d&&a.length>0&&j(a.length-1)},onBlur:h,className:"flex-1 bg-transparent border-none outline-none text-sm min-w-[120px] text-[#0d141b] placeholder:text-slate-400",placeholder:0===a.length?c:""})]})}a.s(["default",()=>k],42312),a.s(["default",()=>l],84985)},51433,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(19721),e=a.i(94787),f=a.i(50944),g=a.i(23292),h=a.i(14548),i=a.i(77156),j=a.i(50522),k=a.i(38246),l=a.i(42312),m=a.i(84985);let n=(0,d.default)(async()=>{},{loadableGenerated:{modules:[83441]},ssr:!1,loading:()=>(0,b.jsx)("div",{className:"h-[300px] w-full bg-slate-50 border border-slate-200 rounded-xl animate-pulse"})});function o({params:a}){let d=(0,f.useRouter)(),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)([]),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)(""),[M,N]=(0,c.useState)([]),[O,P]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(async()=>{try{let b=await a;t(b.id);let c=await (0,e.fetchAPI)(`/projects/id/${b.id}`);v(c.title),x(c.slug),z(c.description),B(c.content),D(c.role),F(c.tags||[]),H(c.demo_link||""),J(c.github_link||""),L(c.coverImage||c.cover_image||""),N(c.images||[]),P(c.published)}catch(a){console.error("Failed to fetch project:",a),g.toast.error("Failed to load project data"),d.push("/admin/projects")}finally{r(!1)}})()},[a,d]);let Q=async a=>{a.preventDefault(),p(!0);try{await (0,e.fetchAPI)(`/projects/${s}`,{method:"PUT",body:JSON.stringify({title:u,slug:w,description:y,content:A,role:C,tags:E,demo_link:G,github_link:I,cover_image:K,images:M,published:O})}),g.toast.success("Project updated successfully!"),setTimeout(()=>d.push("/admin/projects"),1500)}catch(a){console.error("Failed to update project",a),g.toast.error("Failed to update project")}finally{p(!1)}};return q?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,b.jsxs)("form",{onSubmit:Q,className:"min-h-screen pb-20",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-[#4c739a] mb-6",children:[(0,b.jsx)(k.default,{href:"/admin/projects",className:"hover:text-primary transition-colors",children:"Portfolio"}),(0,b.jsx)(j.ChevronRight,{size:14}),(0,b.jsx)("span",{className:"font-medium text-[#0d141b]",children:"Edit Project"})]}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-black text-[#0d141b] tracking-tight",children:"Edit Portfolio Project"}),(0,b.jsx)("p",{className:"text-[#4c739a] mt-1",children:"Update your project details."})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{type:"button",className:"px-4 py-2 bg-white border border-slate-200 text-[#0d141b] font-bold rounded-lg hover:bg-slate-50 transition-colors text-sm flex items-center gap-2",children:[(0,b.jsx)(i.Eye,{size:16})," Live Preview"]}),(0,b.jsxs)("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-primary text-dark font-bold rounded-lg hover:bg-white border hover:border-primary transition-colors disabled:opacity-50 text-sm flex items-center gap-2",children:[(0,b.jsx)(h.Save,{size:16})," ",o?"Saving...":"Save Changes"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"xl:col-span-2 space-y-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-[#0d141b] mb-6",children:"Project Information"}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-[#0d141b] mb-2",children:["Project Title ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:u,onChange:a=>v(a.target.value),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-lg focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all text-[#0d141b]",placeholder:"e.g. Modern E-commerce Platform",required:!0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-[#0d141b] mb-2",children:"Slug"}),(0,b.jsx)("input",{type:"text",value:w,onChange:a=>x(a.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:border-primary font-mono text-sm text-slate-600",placeholder:"project-slug"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-[#0d141b] mb-2",children:"Role / Client"}),(0,b.jsx)("input",{type:"text",value:C,onChange:a=>D(a.target.value),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-lg focus:outline-none focus:border-primary transition-all text-[#0d141b]",placeholder:"e.g. Lead Designer"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-[#0d141b] mb-2",children:"Short Description"}),(0,b.jsx)("textarea",{value:y,onChange:a=>z(a.target.value),className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-lg focus:outline-none focus:border-primary min-h-[100px] text-[#0d141b] resize-y",placeholder:"Brief overview of the project scope, challenges, and results..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-[#0d141b] mb-2",children:"Full Content (Case Study)"}),(0,b.jsx)("div",{className:"prose-editor-wrapper border border-slate-200 rounded-lg overflow-hidden",children:(0,b.jsx)(n,{content:A,onChange:B})})]})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:(0,b.jsx)(l.default,{label:"Gallery Images",multiple:!0,value:M,onChange:a=>N(a),bucket:"portfolio-images"})})]}),(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-[#0d141b] mb-4",children:"Status"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-slate-100 rounded-lg hover:bg-slate-50 transition-colors",children:[(0,b.jsx)("input",{type:"radio",name:"status",checked:!O,onChange:()=>P(!1),className:"w-4 h-4 text-primary focus:ring-primary"}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-700",children:"Draft"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-emerald-100 bg-emerald-50/50 rounded-lg transition-colors",children:[(0,b.jsx)("input",{type:"radio",name:"status",checked:O,onChange:()=>P(!0),className:"w-4 h-4 text-emerald-500 focus:ring-emerald-500"}),(0,b.jsx)("span",{className:"text-sm font-bold text-emerald-700",children:"Public"})]})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:(0,b.jsx)(l.default,{label:"Cover Image",multiple:!1,value:K,onChange:a=>L(a),bucket:"portfolio-images"})}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-[#0d141b] mb-4",children:"Metadata"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wide text-[#4c739a] mb-2",children:"Tags"}),(0,b.jsx)(m.default,{value:E,onChange:F,placeholder:"React, Next.js (Press space to add)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wide text-[#4c739a] mb-2",children:"Demo Link"}),(0,b.jsx)("input",{type:"url",value:G,onChange:a=>H(a.target.value),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"https://..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wide text-[#4c739a] mb-2",children:"GitHub Link"}),(0,b.jsx)("input",{type:"url",value:I,onChange:a=>J(a.target.value),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"https://github.com/..."})]})]})]})]})]})]})}a.s(["default",()=>o])}];

//# sourceMappingURL=_ebbff581._.js.map