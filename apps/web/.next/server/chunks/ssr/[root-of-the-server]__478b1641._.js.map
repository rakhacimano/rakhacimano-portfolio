{"version":3,"sources":["../../../../../../apps/web/lib/api.ts","../../../../../../apps/web/app/%28public%29/blog/%5Bslug%5D/page.tsx","../../../../../../node_modules/lucide-react/src/icons/image.ts","../../../../../../apps/web/components/ButtonPrimary.tsx","../../../../../../apps/web/lib/blog.ts"],"sourcesContent":["// Use absolute URL for server-side calls, relative for client-side\r\nconst getBaseUrl = () => {\r\n    if (typeof window !== 'undefined') return ''; // Browser should use relative path\r\n    if (process.env.VERCEL_URL) return `https://${process.env.VERCEL_URL}`;\r\n    if (process.env.NEXT_PUBLIC_APP_URL) return process.env.NEXT_PUBLIC_APP_URL;\r\n    return 'http://localhost:3000';\r\n};\r\n\r\nconst API_URL = `${getBaseUrl()}/api`;\r\n\r\nexport async function fetchAPI(endpoint: string, options: RequestInit = {}) {\r\n    try {\r\n        const res = await fetch(`${API_URL}${endpoint}`, {\r\n            ...options,\r\n            cache: 'no-store', // Always fetch fresh data\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                ...options.headers,\r\n            },\r\n        });\r\n\r\n        if (!res.ok) {\r\n            const errorText = await res.text();\r\n            console.error(`API Error [${res.status}]:`, errorText);\r\n            throw new Error(`API fetch failed: ${res.status} - ${errorText}`);\r\n        }\r\n\r\n        return res.json();\r\n    } catch (error) {\r\n        if (error instanceof TypeError && error.message.includes('fetch')) {\r\n            console.error('Network error:', error);\r\n            throw new Error('Cannot connect to API. Please try again.');\r\n        }\r\n        throw error;\r\n    }\r\n}\r\n","\r\nimport Link from \"next/link\";\r\nimport { notFound } from \"next/navigation\";\r\nimport { ArrowLeft, ArrowRight, User, ImageIcon } from \"lucide-react\";\r\nimport { getBlogBySlug, getAllBlogs } from \"@/lib/blog\";\r\nimport ButtonPrimary from \"@/components/ButtonPrimary\";\r\n\r\ninterface PageProps {\r\n    params: Promise<{\r\n        slug: string;\r\n    }>;\r\n}\r\n\r\n// Generate Static Params for SSG\r\n// Force dynamic rendering to ensure fresh data and avoid build-time fetch errors\r\nexport const dynamic = \"force-dynamic\";\r\n\r\nexport default async function BlogDetail({ params }: PageProps) {\r\n    const { slug } = await params;\r\n    const post = await getBlogBySlug(slug);\r\n\r\n    if (!post) {\r\n        return notFound();\r\n    }\r\n\r\n    return (\r\n        <article className=\"min-h-screen bg-white\">\r\n            {/* Hero Header */}\r\n            <div className=\"relative w-full h-[60vh] md:h-[70vh] bg-dark\">\r\n                {post.image ? (\r\n                    /* eslint-disable-next-line @next/next/no-img-element */\r\n                    <img\r\n                        src={post.image}\r\n                        alt={post.title}\r\n                        className=\"absolute inset-0 w-full h-full object-cover opacity-60\"\r\n                    />\r\n                ) : (\r\n                    <div className=\"absolute inset-0 flex items-center justify-center bg-gray-900\">\r\n                        <ImageIcon className=\"w-20 h-20 text-gray-700\" />\r\n                    </div>\r\n                )}\r\n                <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent flex flex-col justify-end p-6 md:p-20\">\r\n                    <div className=\"max-w-4xl mx-auto w-full\">\r\n                        {/* Back Button */}\r\n                        <Link href=\"/blog\" className=\"inline-flex items-center gap-2 text-white/50 hover:text-white mb-8 transition-colors text-sm font-bold uppercase tracking-widest\">\r\n                            <ArrowLeft size={16} />\r\n                            Back to Insights\r\n                        </Link>\r\n\r\n                        <div className=\"flex flex-wrap items-center gap-4 text-primary font-mono text-sm font-bold uppercase tracking-widest mb-6\">\r\n                            <span className=\"px-3 py-1 border border-primary/50 rounded-full\">{post.category}</span>\r\n                            <span className=\"w-1 h-1 bg-primary rounded-full\"></span>\r\n                            <span>{post.readingTime}</span>\r\n                        </div>\r\n\r\n                        <h1 className=\"text-4xl md:text-6xl lg:text-7xl font-black text-white leading-tight mb-8\">\r\n                            {post.title}\r\n                        </h1>\r\n\r\n                        <div className=\"flex items-center gap-4\">\r\n                            <div className=\"w-12 h-12 rounded-full overflow-hidden border-2 border-white/20 relative bg-gray-800 flex items-center justify-center\">\r\n                                {post.author?.avatar ? (\r\n                                    /* eslint-disable-next-line @next/next/no-img-element */\r\n                                    <img\r\n                                        src={post.author.avatar}\r\n                                        alt={post.author?.name || 'Author'}\r\n                                        className=\"absolute inset-0 w-full h-full object-cover\"\r\n                                    />\r\n                                ) : (\r\n                                    <span className=\"text-lg font-bold text-white\">\r\n                                        {(post.author?.name || 'A').charAt(0).toUpperCase()}\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n                            <div>\r\n                                <p className=\"text-white font-bold\">{post.author?.name || 'Admin'}</p>\r\n                                <div className=\"flex items-center gap-2 text-white/60 text-xs uppercase tracking-wide\">\r\n                                    <span>{post.author?.role || 'Editor'}</span>\r\n                                    <span className=\"w-1 h-1 bg-white/40 rounded-full\"></span>\r\n                                    <span>{post.date}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Content Body */}\r\n            <div className=\"max-w-3xl mx-auto px-6 py-20 md:py-32\">\r\n                {/* Lead Text */}\r\n                <p className=\"text-xl md:text-2xl font-serif italic text-gray-500 mb-12 leading-relaxed border-l-4 border-primary pl-6\">\r\n                    {post.excerpt}\r\n                </p>\r\n\r\n                {/* HTML Content Render */}\r\n                <div\r\n                    className=\"prose prose-lg md:prose-xl max-w-none prose-headings:font-bold prose-headings:text-dark prose-p:text-gray-600 prose-p:leading-relaxed prose-a:text-primary prose-a:no-underline hover:prose-a:underline prose-img:rounded-xl prose-img:w-full prose-strong:text-dark font-sans\"\r\n                    dangerouslySetInnerHTML={{ __html: post.content }}\r\n                />\r\n\r\n                {/* Tags */}\r\n                <div className=\"mt-20 pt-10 border-t border-gray-100\">\r\n                    <h4 className=\"text-sm font-bold uppercase tracking-widest text-gray-400 mb-4\">Related Topics</h4>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                        {post.tags.map(tag => (\r\n                            <span key={tag} className=\"px-4 py-2 bg-gray-50 text-dark text-xs font-bold uppercase tracking-wide rounded-sm\">\r\n                                #{tag}\r\n                            </span>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* CTA Section */}\r\n            <div className=\"bg-gray-50 py-20 px-6 text-center border-t border-gray-100\">\r\n                <h3 className=\"text-3xl font-black uppercase mb-6\">Enjoyed this article?</h3>\r\n                <p className=\"text-gray-500 mb-8 max-w-md mx-auto\">Subscribe for more insights on design systems and future-proof interfaces.</p>\r\n                <ButtonPrimary href=\"mailto:rakhacimano@gmail.com\">\r\n                    Discuss This Topic\r\n                </ButtonPrimary>\r\n            </div>\r\n        </article>\r\n    );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', ry: '2', key: '1m3agn' }],\n  ['circle', { cx: '9', cy: '9', r: '2', key: 'af1f0g' }],\n  ['path', { d: 'm21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21', key: '1xmnt7' }],\n];\n\n/**\n * @component @name Image\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiByeT0iMiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iMiIgLz4KICA8cGF0aCBkPSJtMjEgMTUtMy4wODYtMy4wODZhMiAyIDAgMCAwLTIuODI4IDBMNiAyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/image\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Image = createLucideIcon('image', __iconNode);\n\nexport default Image;\n","import Link from \"next/link\";\r\nimport { ReactNode } from \"react\";\r\n\r\ninterface ButtonPrimaryProps {\r\n    href: string;\r\n    children: ReactNode;\r\n    target?: string;\r\n    rel?: string;\r\n    className?: string;\r\n    onClick?: () => void;\r\n}\r\n\r\nexport default function ButtonPrimary({\r\n    href,\r\n    children,\r\n    target,\r\n    rel,\r\n    className = \"\",\r\n    onClick\r\n}: ButtonPrimaryProps) {\r\n    return (\r\n        <Link\r\n            href={href}\r\n            target={target}\r\n            rel={rel}\r\n            onClick={onClick}\r\n            className={`bg-primary text-dark px-5 py-2 md:px-6 md:py-3 text-sm font-bold uppercase tracking-wide hover:bg-white transition-colors inline-block ${className}`}\r\n        >\r\n            {children}\r\n        </Link>\r\n    );\r\n}\r\n","export interface Author {\r\n    name: string;\r\n    avatar: string; // URL path specific\r\n    role: string;\r\n}\r\n\r\nexport interface Blog {\r\n    id: string;\r\n    slug: string;\r\n    title: string;\r\n    excerpt: string;\r\n    author: Author;\r\n    date: string;\r\n    readingTime: string;\r\n    thumbnail: string;\r\n    image: string;\r\n    content: string;\r\n    category: string;\r\n    tags: string[];\r\n}\r\n\r\nimport { fetchAPI } from './api';\r\n\r\nexport async function getAllBlogs(): Promise<Blog[]> {\r\n    try {\r\n        const blogs = await fetchAPI('/blogs');\r\n        // Map API response to UI Blog interface if needed\r\n        // Assuming API returns compatible format or we map it here\r\n        return blogs.map((b: any) => ({\r\n            ...b,\r\n            // Ensure defaults for missing fields if API is partial\r\n            author: b.author || { name: 'Rakha', avatar: '', role: 'Admin' },\r\n            date: b.date || new Date(b.createdAt).toLocaleDateString(),\r\n            readingTime: b.readingTime || '5 min read',\r\n            thumbnail: b.thumbnail || b.coverImage || '',\r\n            image: b.coverImage || b.thumbnail || '',\r\n            category: b.category || 'Tech',\r\n            tags: b.tags || []\r\n        }));\r\n    } catch (error) {\r\n        console.error('Failed to fetch blogs', error);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function getBlogBySlug(slug: string): Promise<Blog | null> {\r\n    try {\r\n        const blog = await fetchAPI(`/blogs/${slug}`);\r\n        return {\r\n            ...blog,\r\n            author: blog.author || { name: 'Rakha', avatar: '', role: 'Admin' },\r\n            date: blog.date || new Date(blog.createdAt).toLocaleDateString(),\r\n            readingTime: blog.readingTime || '5 min read',\r\n            thumbnail: blog.thumbnail || blog.coverImage || '',\r\n            image: blog.coverImage || blog.thumbnail || '',\r\n            category: blog.category || 'Tech',\r\n            tags: blog.tags || []\r\n        };\r\n    } catch (error) {\r\n        return null;\r\n    }\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[2]}